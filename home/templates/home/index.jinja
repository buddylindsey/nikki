{% extends "base.jinja" %}

{% block content %}
<div class="row">
    <div class="col-lg-12">
        <form id="add-note" method="post">
            {% csrf_token %}
            <input type="hidden" name="user" value="1" />
            <input type="text" name="title" placeholder="Title" />
            <input type="text" name="scripture" placeholder="Scripture" />
            <textarea name="body"></textarea>
            <input type="submit" value="add note" >
        </form>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div id="notes">
          <ul>
            {% for note in notes %}
            <li>{{ note.title }} - {{ note.scripture }} {% if user.is_authenticated() %}<span class="delete" data-note-id="{{ note.id }}">(x)</span>{% endif %}</li>
            {% else %}
            <li>No content</li>
            {% endfor %}
          </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block js_templates %}
<script type="text/template" id="notes-template">
  <% notes.forEach(function(note){ %>
    <li><%= note.get("title") %> - <%= note.get("scripture") %></li>
  <% }); %>
</script>
<script type="text/template" id="note-view">
  <li><%= title %> - <%= scripture %></li>
</script>
{% endblock %}
